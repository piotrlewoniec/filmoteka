{"mappings":"qhBAAAA,EAAA,SCAA,IAAAC,EAAAD,EAAA,S,8EAQA,MAAME,EAAqBC,SAASC,cAAc,yBAC5CC,EAAsBF,SAASC,cAAc,eAC7CE,EAAaH,SAASC,cAAc,sBACpCG,EAAcJ,SAASC,cAAc,uBACrCI,EAAgBL,SAASC,cAAc,iBAG7C,SAASK,IACPP,EAAmBQ,UAAY,EACjC,CAHAC,EAAAV,GAASW,OAAOC,OAKhBP,EAAWQ,iBAAiB,UAAUC,MAAMC,IAC1CA,EAAMC,iBAEN,MAAMC,EAAcX,EAAYY,MAAMC,OACtC,GAAoB,KAAhBF,EAIJ,IACE,MAAMG,EAAS,IAAKC,EAAAC,oBAAqBD,EAAAE,gBACnCC,EAAa,IAAKH,EAAAI,kBAAmBC,QAASC,EAAAC,WAAYC,MAAOZ,EAAaa,KAAM,GAEpFC,SADmB,EAAAC,EAAAC,cAAab,EAAQI,IACpBU,KACpBC,EAAW5B,EAAc6B,kBAM/B,GALA7B,EAAc8B,kBACd9B,EAAc+B,YAAYH,GAII,IAA1BJ,EAAOQ,QAAQC,OASjB,OARAjC,EAAckC,mBACZ,YACA,oIAIFjC,SACAJ,EAAoBK,UAAY,IAGlCD,IACAJ,EAAoBK,UAAY,IAChC,EAAAiC,EAAAC,yBAAwB1C,IACxB,EAAA2C,EAAAC,iBAAgB5C,EAAoB8B,EAAOQ,SACvCR,EAAOe,YAAc,IACvB,EAAAC,EAAAC,eAAc,CACZC,UAAW7B,EACX8B,cAAe1B,EACf2B,mBAAoBlD,EACpBmD,uBAAwBhD,EACxBiD,eAAgBtB,EAAOD,KACvBwB,cAAevB,EAAOe,YACtBS,mBAAmB,GAOzB,CAJE,MAAOC,GACP9C,EAAAV,GAASW,OAAO8C,QACd,2EAEJ,KCpEFf,EAAA3C,EAAA,S,iEAAA,I,aAYA,MAAM2D,EAAqBxD,SAASC,cAAc,yBAC5CwD,EAAsBzD,SAASC,cAAc,eAC7CyD,EAAiB,kBAEvB,GAAIA,KAAkBC,aAAc,CAClC,MAAMC,GAAsB,EAAAC,EAAAC,kBAAiBJ,GAC7CE,EAAoBG,WAAY,GAChC,EAAAF,EAAAG,kBAAiBN,EAAgBE,EACnC,EAEA,EAAApB,EAAAC,yBAAwBe,GAEE5C,WACxB,MAAMM,EAAS,IAAKC,EAAAC,oBAAqBD,EAAA8C,uBACnC3C,EAAa,IAAKH,EAAA+C,yBAA0B1C,QAASC,EAAAC,WAAYE,KAAM,GACvEC,QAAe,EAAAC,EAAAC,cAAab,EAAQI,GAQ1C,MAPa,CACXJ,OAAQA,EACRI,WAAYA,EACZ2B,mBAAoBO,EACpBW,oBAAqBV,EACrB5B,OAAQA,EAEH,EAGTuC,GACGC,MAAKrC,GAGR,SAAuBA,IACrB,EAAAU,EAAAC,iBAAgBa,EAAoBxB,EAAKH,OAAOG,KAAKK,UACrD,EAAAQ,EAAAC,eAAc,CACZC,UAAWf,EAAKd,OAChB8B,cAAehB,EAAKV,WACpB2B,mBAAoBjB,EAAKiB,mBACzBC,uBAAwBlB,EAAKmC,oBAC7BhB,eAAgBnB,EAAKH,OAAOG,KAAKJ,KACjCwB,cAAepB,EAAKH,OAAOG,KAAKY,YAChCS,mBAAmB,GAEvB,CAdgBiB,CAActC,KAC3BuC,OAAMjB,GAASkB,QAAQC,IAAInB,K","sources":["src/js/main-page.js","src/js/main-page-searchbytitle.js","src/js/main-page-trending.js"],"sourcesContent":["import './ui/daynight';\nimport './main-page-searchbytitle';\nimport './main-page-trending';\nimport './ui/movie-info';\nimport './ui/to-top-btn';\n","import Notiflix from 'notiflix';\nimport { renderMoviePlaceholders } from './ui/noapi';\nimport { axiosGetData } from './apirest/axios-data';\nimport { defaultHeaderGet, searchMovieUrl, searchMovieParams } from './config/stdquery';\nimport { apikeyTMDB } from './config/apikey';\nimport { renderMovieList } from './ui/cardgen';\nimport { setPagination } from './ui/pagination';\n\nconst movieListContainer = document.querySelector('.movie-list-container');\nconst paginationContainer = document.querySelector('.pagination');\nconst searchForm = document.querySelector('.header__form-item');\nconst searchInput = document.querySelector('.header__form-input');\nconst formContainer = document.querySelector('.header__form');\n\nNotiflix.Notify.init();\nfunction clearMovieList() {\n  movieListContainer.innerHTML = '';\n}\n\nsearchForm.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  const searchQuery = searchInput.value.trim();\n  if (searchQuery === '') {\n    return;\n  }\n\n  try {\n    const header = { ...defaultHeaderGet, ...searchMovieUrl };\n    const parameters = { ...searchMovieParams, api_key: apikeyTMDB, query: searchQuery, page: 1 };\n    const serverData = await axiosGetData(header, parameters);\n    const movies = serverData.data;\n    const formCopy = formContainer.firstElementChild;\n    formContainer.replaceChildren();\n    formContainer.appendChild(formCopy);\n    // movies.page\n    // movies.total_pages\n    // movies.total_results\n    if (movies.results.length === 0) {\n      formContainer.insertAdjacentHTML(\n        'beforeend',\n        `<p class=\"header__form-alert\">\n          Search result not successful. Enter the correct movie name and try again\n        </p>`,\n      );\n      clearMovieList();\n      paginationContainer.innerHTML = '';\n      return;\n    }\n    clearMovieList();\n    paginationContainer.innerHTML = '';\n    renderMoviePlaceholders(movieListContainer);\n    renderMovieList(movieListContainer, movies.results);\n    if (movies.total_pages > 1) {\n      setPagination({\n        headerRef: header,\n        parametersRef: parameters,\n        movieListContainer: movieListContainer,\n        paginationContainerRef: paginationContainer,\n        currentPageRef: movies.page,\n        totalPagesRef: movies.total_pages,\n        isLocalStorageRef: false,\n      });\n    }\n  } catch (error) {\n    Notiflix.Notify.failure(\n      'Search result not successful. Enter the correct movie name and try again',\n    );\n  }\n});\n","import { renderMoviePlaceholders } from './ui/noapi';\nimport { axiosGetData } from './apirest/axios-data';\nimport {\n  defaultHeaderGet,\n  trendingMovieTOP20Url,\n  trendingMovieTOP20Params,\n} from './config/stdquery';\nimport { apikeyTMDB } from './config/apikey';\nimport { renderMovieList } from './ui/cardgen';\nimport { setPagination } from './ui/pagination';\nimport { localStorageSave, localStorageLoad } from './system/localstorage';\n\nconst movieListContainer = document.querySelector('.movie-list-container');\nconst paginationContainer = document.querySelector('.pagination');\nconst configVariable = 'filmotekaconfig';\n\nif (configVariable in localStorage) {\n  const configVariableLocal = localStorageLoad(configVariable);\n  configVariableLocal.mylibrary = false;\n  localStorageSave(configVariable, configVariableLocal);\n}\n\nrenderMoviePlaceholders(movieListContainer);\n\nconst trendingMoviesGet = async () => {\n  const header = { ...defaultHeaderGet, ...trendingMovieTOP20Url };\n  const parameters = { ...trendingMovieTOP20Params, api_key: apikeyTMDB, page: 1 };\n  const movies = await axiosGetData(header, parameters);\n  const data = {\n    header: header,\n    parameters: parameters,\n    movieListContainer: movieListContainer,\n    paginationContainer: paginationContainer,\n    movies: movies,\n  };\n  return data;\n};\n\ntrendingMoviesGet()\n  .then(data => displayResult(data))\n  .catch(error => console.log(error));\n\nfunction displayResult(data) {\n  renderMovieList(movieListContainer, data.movies.data.results);\n  setPagination({\n    headerRef: data.header,\n    parametersRef: data.parameters,\n    movieListContainer: data.movieListContainer,\n    paginationContainerRef: data.paginationContainer,\n    currentPageRef: data.movies.data.page,\n    totalPagesRef: data.movies.data.total_pages,\n    isLocalStorageRef: false,\n  });\n}\n"],"names":["parcelRequire","$7IoHk","$d472abed611360d0$var$movieListContainer","document","querySelector","$d472abed611360d0$var$paginationContainer","$d472abed611360d0$var$searchForm","$d472abed611360d0$var$searchInput","$d472abed611360d0$var$formContainer","$d472abed611360d0$var$clearMovieList","innerHTML","$parcel$interopDefault","Notify","init","addEventListener","async","event","preventDefault","searchQuery","value","trim","header","$3A25W","defaultHeaderGet","searchMovieUrl","parameters","searchMovieParams","api_key","$a0S8g","apikeyTMDB","query","page","movies","$4PJQe","axiosGetData","data","formCopy","firstElementChild","replaceChildren","appendChild","results","length","insertAdjacentHTML","$hMMlu","renderMoviePlaceholders","$caO0w","renderMovieList","total_pages","$iQDRY","setPagination","headerRef","parametersRef","movieListContainer","paginationContainerRef","currentPageRef","totalPagesRef","isLocalStorageRef","error","failure","$9769bf9da6990cc8$var$movieListContainer","$9769bf9da6990cc8$var$paginationContainer","$9769bf9da6990cc8$var$configVariable","localStorage","configVariableLocal","$2HHqq","localStorageLoad","mylibrary","localStorageSave","trendingMovieTOP20Url","trendingMovieTOP20Params","paginationContainer","$9769bf9da6990cc8$var$trendingMoviesGet","then","$9769bf9da6990cc8$var$displayResult","catch","console","log"],"version":3,"file":"index.b54a4eef.js.map"}